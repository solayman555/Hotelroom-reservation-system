#include<stdio.h>
#include<string.h>
#include<windows.h>
FILE *CD;
int cancel();
int payment();
void design();
void room();
void services();
void view();
void Booking();
int main()
{
Y :
    design();
    int a;
    int c=1;
    printf("\t\t1.Admin\n");
    printf("\t\t2.Users\n");
    printf("\t\tEnter Your Choice : ");
    scanf("%d",&a);
    ////////////////////////
    switch(a)
    {
    case 1:
    {
        int pass[10];
        int passfile[10];
        FILE *password;
        password=fopen("pass.txt","r");
X:
        printf("\t\tEnter Your password: ");
        scanf("%s",pass);
        fscanf(password,"%s",passfile);
        if(strcmp(passfile,pass)==0)
        {
            for(int i=1; i<115; i++)
            {
                printf("~");
                usleep(1000);
            }
A :
            system("cls");
            printf("\n\t\t\t\t---------------");
            printf("\n\t\t\t\t|Welcome Admin|");
            printf("\n\t\t\t\t---------------\n");
            printf("\t1.VIEW booked guests details\n");
            printf("\t2.ENTER new guest\n");
            printf("\t3.Check-Out\n");
            printf("\t4.EXIT\n");
            int x;
            printf("\tEnter Your choice: ");
            scanf("%d",&x);
            switch(x)
            {
            case 1:
            {
                char s[5];
                view();
Q :
                printf("Do you want to go to main menu?(y/n): ");
                scanf("%s",&s);
                if(strcmp(s,"n")==0)
                {
                    return 0;
                }
                else if(strcmp(s,"y")==0)
                {
                    system("cls");
                    goto A; //133
                }
                else
                {
                    printf("\nWrong Entry....Try Again...\n\n");
                    goto Q; //goto line 149
                }

            }
            case 2:
            {
                system("cls");
                char s[5];
                Booking();
                printf("\t\tComplete Your Request\n");
M :
                printf("Do you want to go to main menu?(y/n): ");
                scanf("%s",s);
                if(strcmp(s,"n")==0)
                {
                    return 0;
                }
                else if(strcmp(s,"y")==0)
                {
                    goto A;
                }
                else
                {
                    printf("\nWrong Entry....Try Again...\n\n");
                    goto M; //goto line 174
                }
            }
            case 3:
            {
                int c=payment();
                char a[]="| $ Your Total payment = ";
                printf("\n\t\t\t---------------------------------\n\t\t\t");
                int l=strlen(a);
                for(int i=0; i<l; i++)
                {
                    printf("%c",a[i]);
                    usleep(10000);
                }
                printf("%d $             |",c);
                printf("\n\t\t\t---------------------------------\n\t\t\t");

                char t[]="| Thank you again for visiting. We hope you have safe travels. |";
                int w=strlen(t);
                printf("\n\t\t\t---------------------------------------------------------------\n\t\t\t");
                for(int i=0; i<w; i++)
                {
                    printf("%c",t[i]);
                    usleep(10000);
                }
                printf("\n\t\t\t---------------------------------------------------------------");

                char h[2];
H :
                printf("\nDo you want to go to main menu?(y/n): ");
                scanf("%c",&h);
                if(strcmp(h,"n")==0)
                {
                    return 0;
                }
                else if(strcmp(h,"y")==0)
                {
                    system("cls");
                    goto Y;
                }
                else
                {
                    printf("\nWrong Entry....Try Again...\n\n");
                    goto H;
                }
            }
            case 4:
                system("cls");
                goto Y;
            }
        }

        else
        {
            printf("\n\t\tWrong password.Access Denied\n\t\tTry again....\n");
            c++;
            if(c==4)break;
            goto X;
        }
        break;
    }
    case 2:
U :
        system("cls");
        printf("\t\t\t---------------------------------\n");
        printf("\t\t\t| Good afternoon,welcome to DSC |\n");
        printf("\t\t\t---------------------------------\n");
        printf("\t1.View available rooms\n");
        printf("\t2.Request Booking of room\n");
        printf("\t3.View Our Services\n");
        printf("\t4.Cancel Booking\n");
        printf("\t5.EXIT\n");
        printf("Enter your choice: ");
        scanf("%d",&c);
        switch(c)
        {
        case 1:
        {
            room();
            char v[2];
V:
            printf("Do you want to go to User menu?(y/n): ");
            scanf("%s",&v);
            if(strcmp(v,"n")==0)
            {
                return 0;
            }
            else if(strcmp(v,"y")==0)
                goto U;
            else
            {
                printf("\nWrong Entry....Try Again...\n");
                goto V;   //line 269
            }
        }
        case 2:
        {
            system("cls");
            char s[5];
            Booking();
P:
            printf("\nDo you want to go to main menu?(y/n): ");
            scanf("%s",&s);
            if(strcmp(s,"n")==0)
            {
                return 0;
            }
            else if(strcmp(s,"y")==0)
            {
                system("cls");
                goto Y;
            }
            else
            {
                printf("\nWrong Entry....Try Again...\n");
                goto P;
            }
        }
        case 3:
        {
            system("cls");
            services();
            char t[5];
F:
            printf("Do you want to go to User menu?(y/n): ");
            scanf("%s",&t);
            if(strcmp(t,"n")==0)
            {
                return 0;
            }
            else if(strcmp(t,"y")==0)
                goto U;
            else
            {
                printf("\nWrong Entry....Try Again...\n");
                goto F;   //line 232
            }
        }
        case 4:
        {
            cancel();
            sleep(5);
        }
        case 5:
            system("cls");
            goto Y;

        }
    default :
        printf("\nWrong Choice.\nplease try again....\n");
        goto Y;
    }

    return 0;
}
int cancel()
{
    system("cls");
        char name[20];
    int number[15];
    int NID[20];
    printf("\n\t\t\t=========================\n");
    char check[]="    canceling Form     ";
    printf("\t\t\t| ");
    int l=strlen(check);
    for(int i=0; i<l; i++)
    {
        printf("%c",check[i]);
        usleep(100000);
    }
    printf("|\n");
    printf("\t\t\t=========================\n");
    printf("\n\tEnter Your Name:");
    scanf("%s",name);
    printf("\tEnter Your Number: ");
    scanf("%d",&number);
    printf("\tEnter Your NID Number: ");
    scanf("%d",&NID);
        printf("\n\t\t\t=========================\n");
    char cancel[]="   canceling Complete     ";
    printf("\t\t\t| ");
    int w=strlen(cancel);
    for(int i=0; i<l; i++)
    {
        printf("%c",cancel[i]);
        usleep(100000);
    }
    printf("|\n");
    printf("\t\t\t=========================\n");

}
int payment()
{
    system("cls");
    char name[20];
    int number[15];
    int NID[20];
    int a,b,j,k,c;
    printf("\n\t\t\t=========================\n");
    char check[]="        Check-In     ";
    printf("\t\t\t| ");
    int l=strlen(check);
    for(int i=0; i<l; i++)
    {
        printf("%c",check[i]);
        usleep(100000);
    }
    printf(" |\n");
    printf("\t\t\t=========================\n");

    printf("\n\tEnter Your Name:");
    scanf("%s",name);
    printf("\tEnter Your Number: ");
    scanf("%d",&number);
    printf("\tEnter Your NID Number: ");
    scanf("%d",&NID);
B :
    printf("\n\t1.Single Bed\n\t2.Double Bed\n\tSelect your Room Package: ");
    scanf("%d",&a);
    if(a==1 || a==2)
    {
        printf("\tRoom Package:%d \n",a);
    }
    else
    {
        printf("Invalid input.Try Again...\n");
        goto B;  //line 53
    }
    if(a==1)
    {
        j=300;
    }
    else if(a==2)
    {
        j=500;
    }
C :
    printf("\tSelect Wifi Package (5MBps 10MBps 20 MBps): ");
    scanf("%d",&b);
    if(b==5 || b==10 || b==20)
    {
        printf("\tWifi Package:%d MBps \n",b);
    }
    else
    {
        printf("Invalid input.Try Again...\n");
        goto C;  //line 66
    }
    int n;
    printf("\tHow Many Days You stay : ");
    scanf("%d",&n);
    if(b==5)
    {
        k=200;
    }
    else if(b==10)
    {
        k=500;
    }
    else
    {
        k=1000;
    }

    printf("\n\n");
    char o[]="\t\t# Thanks Your Information..... #";
    printf("\t\t===============================\n");
    int d=strlen(o);
    for(int i=0; i<d; i++)
    {
        printf("%c",o[i]);
        usleep(100000);
    }
    printf("\n\t\t==============================");
    system("cls");
    printf("\n\n\n\n\n\t\t\t\<<<<<<<<<<<<<<<<<<<<<<<<<<\n");
    printf("\t\t\t");
    char p[]="<PLEASE WAIT YOUR BILL...>";
    int f=strlen(p);
    for(int i=0; i<f; i++)
    {
        printf("%c",p[i]);
        usleep(100000);
    }
    printf("\n\t\t\t\<<<<<<<<<<<<<<<<<<<<<<<<<<\n");
    for(int i=0; i<101; i++)
    {
        printf("\n\n\n\n\t\t\t");
        printf("Processing ");
        printf("%d%%",i);
        usleep(10000);
        system("cls");
    }
    printf("\t\t\t-----------------\n");
    printf("\t\t\t| Money Receipt |\n");
    printf("\t\t\t-----------------\n");
    printf("\t        ------------------------------------------------------------------\n");
    printf("\t\t| Name   : %s",name);
    printf("\n\t        |----------------------------------------------------------------|\n");
    printf("\t        ------------------------------------------------------------------\n");
    printf("\t\t| Number : %d",number);
    printf("\n\t        |----------------------------------------------------------------|\n");
    printf("\t        ------------------------------------------------------------------\n");
    printf("\t\t| NID   : %d",NID);
    printf("\n\t        |----------------------------------------------------------------|\n");
    printf("\t        ------------------------------------------------------------------\n");
    printf("\t\t| How days : %d ",n);
    printf("\n\t        |----------------------------------------------------------------|\n");
    int RB=j*n;
    printf("\t        ------------------------------------------------------------------\n");
    printf("\t\t| Room Bill   : %d TK",RB);
    printf("\n\t        |----------------------------------------------------------------|\n");
    printf("\t        ------------------------------------------------------------------\n");
    printf("\t\t| Wifi Bill  : %d TK",k);
    printf("\n\t        |----------------------------------------------------------------|\n");
    int SB=500*n;
    printf("\t        ------------------------------------------------------------------\n");
    printf("\t\t| Spa Bill    : %d TK",SB);
    printf("\n\t        |----------------------------------------------------------------|\n");
    int SCB=500*n;
    printf("\t        ------------------------------------------------------------------\n");
    printf("\t\t|Service Charge : %d Tk",SCB);
    printf("\n\t        |----------------------------------------------------------------|\n");
    printf("\t        ------------------------------------------------------------------\n");
    int PB=200*n;
    printf("\t\t| Parking Charge : %d TK",PB);
    printf("\n\t        |----------------------------------------------------------------|\n");
    c=RB+SB+SCB+PB+k;
    return c;
}
void design()
{
    printf("\n\n\t\t\t");
    for(int i=0; i<47; i++)
    {
        printf("*");
        usleep(1000);
    }
    printf("\n");
    printf("    \t\t\t*                                             *\n");
    printf("    \t\t\t*                                             *\n");
    printf("    \t\t\t*\t   ");
    for(int i=0; i<25; i++)
    {
        printf("-");
        usleep(1000);
    }
    printf("\t      *");
    printf("\n");
    printf("    \t\t\t*          ");
    char b[]="| Welcome To DSC RESORT |";
    int l=strlen(b);
    for(int i=0; i<l; i++)
    {
        printf("%c",b[i]);
        usleep(100000);
    }
    printf("\t      *\n");


    printf("    \t\t\t*\t   ");
    for(int i=0; i<25; i++)
    {
        printf("-");
        usleep(1000);
    }
    printf("\t      *");
    printf("\n");
    printf("    \t\t\t*                                             *\n");
    printf("    \t\t\t*                                             *\n");
    printf("\t\t\t");
    for(int i=0; i<47; i++)
    {
        printf("*");
        usleep(1000);
    }
    printf("\n\n");
    for(int i=1; i<118; i++)
    {
        printf("-");
        usleep(1000);
    }
    printf("\n\n");
    char a[]="| Login to Start Your Next Adventure |";
    int q=strlen(a);
    printf("\t\t\t--------------------------------------");
    printf("\n\t\t\t");
    for(int i=0; i<q; i++)
    {
        printf("%c",a[i]);
        usleep(10000);

    }
    printf("\n\t\t\t``````````````````````````````````````\n");
}
void room()
{
    int room[100];
    for(int i=101; i<1000; i++)
    {
        if(i%10==0)
        {
            i+=90;
        }
        printf("%d\n",i);
    }
}
void services()
{
    printf("\n\t\t\t---------------------\n\t\t\t");
    char s[]="| OUR SERVICES LIST |";
    int l=strlen(s);
    for(int i=0; i<l; i++)
    {
        printf("%c",s[i]);
        usleep(100000);
    }
    printf("\n\t\t\t---------------------\n");
    printf("\n\t  1.ROOM-\n\t\t\t1.Single Bed=300TK\n\t\t\t2.Double Bed=500TK");
    printf("\n\t  2.Wifi Packages-\n\t\t\t1.5MBps-200TK\n\t\t\t2.10MBps-500Tk\n\t\t\t3.20MBps-1000TK");
    printf("\n\n\t  3.Parking Charge-200TK(per Day)");
    printf("\n\n\t  4.Spa-500TK");
    printf("\n\n\t  5.Service Charge-500TK(per day)\n");
}
void view()
{
    char details[500];
    CD=fopen("CD.txt","r");
    while(fgets(details,sizeof(details),CD)!=NULL)
    {
        printf("%s", details);
    }
    fclose(CD);

}
void Booking()
{
    char name[20];
    int number[15];
    int NID[20];
    int a,b;
    printf("\n\t\t\t=========================\n");
    char book[]="Reserve Your Paradise";
    printf("\t\t\t| ");
    int l=strlen(book);
    for(int i=0; i<l; i++)
    {
        printf("%c",book[i]);
        usleep(100000);
    }
    printf(" |\n");
    printf("\t\t\t=========================\n");

    printf("\n\tEnter Your Name:");
    scanf("%s",name);
    printf("\tEnter Your Number: ");
    scanf("%d",&number);
    printf("\tEnter Your NID Number: ");
    scanf("%d",&NID);
    CD=fopen("CD.txt","a");
    fprintf(CD,"Name:%s \n",name);
    fprintf(CD,"    Number: %d \n",number);
    fprintf(CD,"    NID: %d \n",NID);
B :
    printf("\n\t1.Single Bed\n\t2.Double Bed\n\tSelect your Room Package: ");
    scanf("%d",&a);
    if(a==1 || a==2)
    {
        fprintf(CD,"Room Package:%d \n",a);
    }
    else
    {
        printf("Invalid input.Try Again...\n");
        goto B;  //line 53
    }
C :
    printf("\tSelect Wifi Package (5MBps 10MBps 20 MBps): ");
    scanf("%d",&b);
    if(b==5 || b==10 || b==20)
    {
        fprintf(CD,"Wifi Package:%d MBps \n",b);
    }
    else
    {
        printf("Invalid input.Try Again...\n");
        goto C;  //line 66
    }
    fclose(CD);
    char t[]="[Reservation Confirmed  Thank You for Booking with Us!]";
    int w=strlen(t);
    printf("\n\t\t\t--------------------------------------------------------\n\t\t\t");
    for(int i=0; i<w; i++)
    {
        printf("%c",t[i]);
        usleep(10000);
    }
    printf("\n\t\t\t--------------------------------------------------------");
    printf("\n\n\tPress Any key To Be Continue....");
    getch();
}
